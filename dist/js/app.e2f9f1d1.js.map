{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?4a62","webpack:///./src/components/CityMap.vue?ffb8","webpack:///./src/App.vue?005d","webpack:///./src/components/CityMap.vue?e8ab","webpack:///./src/utils/effect.js","webpack:///./src/utils/shader.js","webpack:///./src/utils/index.js","webpack:///./src/components/effect/radar.js","webpack:///./src/components/effect/wall.js","webpack:///./src/components/city.js","webpack:///./src/components/effect/EffectBase.js","webpack:///./src/components/effect/CreatePoint.js","webpack:///src/components/CityMap.vue","webpack:///./src/components/CityMap.vue?73eb","webpack:///./src/components/CityMap.vue","webpack:///./src/components/staticLayout.vue?e7ed","webpack:///src/components/staticLayout.vue","webpack:///./src/components/staticLayout.vue?3a6f","webpack:///./src/components/staticLayout.vue","webpack:///src/App.vue","webpack:///./src/App.vue?60d0","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/components/staticLayout.vue?3958"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","staticRenderFns","_m","surroundLineGeometry","THREE","geometry","base","surroundLine","vertexShader","fragmentShader","forMaterial","materials","callback","Array","isArray","forEach","mat","frag_basic","Shader","opts","radius","color","speed","opacity","angle","Math","PI","position","x","y","z","rotation","width","material","uniforms","u_radius","u_speed","u_opacity","u_width","u_color","time","transparent","depthWrite","side","mesh","set","copy","option","height","renderOrder","translate","u_height","depthTest","radarData","wallData","City","scene","dt","isStart","StartTime","group","effectGroup","add","surroundLineMaterial","traverse","child","isMesh","setCityMaterial","init","url","Promise","resolve","reject","fbxLoader","load","obj","e","setTimeout","Radar","Wall","Utils","setStyle","computeBoundingBox","computeBoundingSphere","Effects","worldPosition","getWorldPosition","boundingBox","max","min","size","createSurroundLineMaterial","line","scale","uColor","uActive","uOpacity","uMax","uMin","uRange","uSpeed","uStartTime","EffectBase","config","DefaultConfig","basic","longLat","vScale","center","plane","dataTans","gridHelper","texture","txuePath","common","repeat","_TWEEN","TWEEN","Txues","eventArray","$","loadTexture","assign","constructor","onMouseIn","onMouseOut","onMouseDown","onDblclick","animate","dispose","keys","item","ajaxQuer","func","_that","type","success","toFunction","mtl","point","param","sprite","lineD","shader","phong","lambert","standard","geo","buf","insBuf","shape","shp","seg","extrude","opt","w","h","ws","hs","circle","box","sphere","pS","pL","tS","tL","torus","rs","ts","Icosah","cylinder","rt","rb","tgShape","triangulateShape","setNodeOpacity","node","val","_opacity","toString","isFunction","a","b","getColorArr","str","pad2","_arr","nStr","toLowerCase","replace","test","arr","split","hex","round","join","getStyle","cArr","cl3","multiplyScalar","g","tph","txueLoader","k","wrapS","wrapT","pushColor","array","colors","ci","clen","handleColor","colorArr","nodeFunc","endFun","trans","limt","CreatRisePoint","createEffect","nowId","getObjectByProperty","remove","minRadius","maxRadius","number","sge","_Shader","positions","indexs","speeds","randoms","randFloat","pvec2","random","setLength","setAttribute","pointImg","u_size","u_sge","u_map","blending","mounted","group2","shapeScaleSize","faceColor","sideColor","shapeGeometryObj","cityCenter","methods","isDown","cObject","rotateZ","requestAnimationFrame","update","city","delta","points","mixer","controls","createCone","renderer","render","camera","calculationCoordinate","addCircleAlarm","arcShapeDrn01","moveTo","txtu","offset","nMesh","rotateX","component","components","Vue","productionTip","App","$mount"],"mappings":"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","file":"js/app.e2f9f1d1.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/smart-taiyuan/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CityMap.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('city-map'),_c('static-layout',{staticClass:\"layout\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{staticClass:\"three\",attrs:{\"id\":\"three\"}})])}]\n\nexport { render, staticRenderFns }","import * as THREE from 'three'\nexport default {\n    // 获取到包围的线条\n    surroundLineGeometry(object) {\n        return new THREE.EdgesGeometry(object.geometry);\n    }\n}","const base = `\nprecision mediump float;\n\nfloat distanceTo(vec2 src, vec2 dst) {\n    float dx = src.x - dst.x;\n    float dy = src.y - dst.y;\n    float dv = dx * dx + dy * dy;\n    return sqrt(dv);\n} \n\nfloat lerp(float x, float y, float t) {\n    return (1.0 - t) * x + t * y;\n}\n\n#define PI 3.14159265359\n#define PI2 6.28318530718\n\n`\nconst surroundLine = {\n    // 顶点着色器\n    vertexShader: `\n    #define PI 3.14159265359\n\n    uniform mediump float uStartTime;\n    uniform mediump float time;\n    uniform mediump float uRange;\n    uniform mediump float uSpeed;\n\n    uniform vec3 uColor;\n    uniform vec3 uActive;\n    uniform vec3 uMin;\n    uniform vec3 uMax;\n\n    varying vec3 vColor;\n\n    float lerp(float x, float y, float t) {\n        return (1.0 - t) * x + t * y;\n    }\n    void main() { \n        if (uStartTime >= 0.99) {\n            float iTime = mod(time * uSpeed - uStartTime, 1.0);\n            float rangeY = lerp(uMin.y, uMax.y, iTime);\n            if (rangeY < position.y && rangeY > position.y - uRange) {\n                float index = 1.0 - sin((position.y - rangeY) / uRange * PI);\n                float r = lerp(uActive.r, uColor.r, index);\n                float g = lerp(uActive.g, uColor.g, index);\n                float b = lerp(uActive.b, uColor.b, index);\n\n                vColor = vec3(r, g, b);\n            } else {\n                vColor = uColor;\n            }\n        }\n        vec3 vPosition = vec3(position.x, position.y, position.z * uStartTime);\n        gl_Position = projectionMatrix * modelViewMatrix * vec4(vPosition, 1.0);\n    } \n    `,\n    // 片元着色器\n    fragmentShader: ` \n    ${base} \n    uniform float time;\n    uniform float uOpacity;\n    uniform float uStartTime;\n\n    varying vec3 vColor; \n\n    void main() {\n\n        gl_FragColor = vec4(vColor, uOpacity * uStartTime);\n    }\n    `\n}\n\nconst fragmentShader = `#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\n    float distanceTo(vec2 src, vec2 dst) {\n        float dx = src.x - dst.x;\n        float dy = src.y - dst.y;\n        float dv = dx * dx + dy * dy;\n        return sqrt(dv);\n    }\n\n    float lerp(float x, float y, float t) {\n        return (1.0 - t) * x + t * y;\n    }\n\n    vec3 getGradientColor(vec3 color1, vec3 color2, float index) {\n        float r = lerp(color1.r, color2.r, index);\n        float g = lerp(color1.g, color2.g, index);\n        float b = lerp(color1.b, color2.b, index);\n        return vec3(r, g, b);\n    }\n\n    varying vec4 vPositionMatrix;\n    varying vec3 vPosition;\n\n    uniform float time;\n    // 扩散参数\n    uniform float uRadius;\n    uniform float uOpacity;\n    // 初始动画参数\n    uniform float uStartTime; \n\n    uniform vec3 uMin;\n    uniform vec3 uMax;\n    uniform vec3 uSize;\n    uniform vec3 uFlow;\n    uniform vec3 uColor;\n    uniform vec3 uCenter;\n    uniform vec3 uSwitch;\n    uniform vec3 uTopColor;\n    uniform vec3 uFlowColor;\n    uniform vec3 uDiffusion; \n    uniform vec3 uDiffusionCenter;\n\n    void main() {\n        \n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t\n    vec3 distColor = outgoingLight;\n    float dstOpacity = diffuseColor.a;\n    \n    float indexMix = vPosition.z / (uSize.z * 0.6);\n    distColor = mix(distColor, uTopColor, indexMix);\n    \n    // 开启扩散波\n    vec2 position2D = vec2(vPosition.x, vPosition.y);\n    if (uDiffusion.x > 0.5) {\n        // 扩散速度\n        float dTime = mod(time * uDiffusion.z, uRadius * 0.5);\n        // 当前的离中心点距离\n        float uLen = distanceTo(position2D, vec2(uCenter.x, uCenter.z));\n\n        // 扩散范围\n        if (uLen < dTime && uLen > dTime - uDiffusion.y) {\n            // 颜色渐变\n            float dIndex = sin((dTime - uLen) / uDiffusion.y * PI);\n            distColor = mix(uColor, distColor, 1.0 - dIndex);\n        }\n    }\n\n    // 流动效果\n    if (uFlow.x > 0.5) {\n        // 扩散速度\n        float dTime = mod(time * uFlow.z, uSize.z); \n        // 流动范围\n        float topY = vPosition.z + uFlow.y;\n        if (dTime > vPosition.z && dTime < topY) {\n            // 颜色渐变 \n            float dIndex = sin((topY - dTime) / uFlow.y * PI);\n\n            distColor = mix(distColor, uFlowColor,  dIndex); \n        }\n    }\n  \n\n    gl_FragColor = vec4(distColor, dstOpacity * uStartTime);\n        \n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}`\n\nconst vertexShader = `#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\n    varying vec4 vPositionMatrix;\n    varying vec3 vPosition;\n    uniform float uStartTime;\n    void main() {\n            vPositionMatrix = projectionMatrix * vec4(position, 1.0);\n            vPosition = position;\n            \n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t\n    vec3 transformed = vec3(position.x, position.y, position.z * uStartTime);\n            \n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}`\nexport default {\n    base,\n    surroundLine,\n    fragmentShader,\n    vertexShader\n}","/**\n * 公共方法\n */\n// import * as THREE from 'three'\n\nexport default {\n    forMaterial(materials, callback) {\n        if (!callback || !materials) return false;\n        if (Array.isArray(materials)) {\n            materials.forEach((mat) => {\n                callback(mat);\n            });\n        } else {\n            callback(materials);\n        }\n    }\n}\n\n","import * as THREE from 'three';\n\nconst frag_basic = `\nprecision mediump float;\n \nfloat atan2(float y, float x){\n  float t0, t1, t2, t3, t4;\n  t3 = abs(x);\n  t1 = abs(y);\n  t0 = max(t3, t1);\n  t1 = min(t3, t1);\n  t3 = float(1) / t0;\n  t3 = t1 * t3;\n  t4 = t3 * t3;\n  t0 = -float(0.013480470);\n  t0 = t0 * t4 + float(0.057477314);\n  t0 = t0 * t4 - float(0.121239071);\n  t0 = t0 * t4 + float(0.195635925);\n  t0 = t0 * t4 - float(0.332994597);\n  t0 = t0 * t4 + float(0.999995630);\n  t3 = t0 * t3;\n  t3 = (abs(y) > abs(x)) ? float(1.570796327) - t3 : t3;\n  t3 = (x < 0.0) ?  float(3.141592654) - t3 : t3;\n  t3 = (y < 0.0) ? -t3 : t3;\n  return t3;\n}\n// 计算距离\nfloat distanceTo(vec2 src, vec2 dst) {\n\tfloat dx = src.x - dst.x;\n\tfloat dy = src.y - dst.y;\n\tfloat dv = dx * dx + dy * dy;\n\treturn sqrt(dv);\n}\n\n#define PI 3.14159265359\n#define PI2 6.28318530718\n\nuniform vec3 u_color;\nuniform float time;\nuniform float u_opacity;\nuniform float u_radius;\nuniform float u_width;\nuniform float u_speed;\n\nvarying vec2 v_position;\n\n    `\nconst Shader = {\n    vertexShader: `\n    varying vec2 v_position;\n    \n    void main() {\n        v_position = vec2(position.x, position.y);\n        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n    }`,\n    fragmentShader: `\n    ${frag_basic} \n    void main() {\n        float d_time = u_speed * time;\n\n        float angle = atan2(v_position.x, v_position.y) + PI;\n        \n        float angleT = mod(angle + d_time, PI2);\n\n        float width = u_width;\n    \n        float d_opacity = 0.0;\n\n        // 当前位置离中心位置\n        float length = distanceTo(vec2(0.0, 0.0), v_position);\n        \n        float bw = 5.0;\n        if (length < u_radius && length > u_radius - bw) {\n            float o = (length - (u_radius - bw)) / bw;\n            d_opacity = sin(o * PI); \n        }\n\n        if (length < u_radius - bw / 1.1) {\n            d_opacity = 1.0 - angleT / PI * (PI / width);\n        } \n\n        if (length > u_radius) { d_opacity = 0.0; }\n \n        gl_FragColor = vec4(u_color, d_opacity * u_opacity);\n    }`\n}\nexport default function (opts) {\n    const {\n        radius = 50,\n            color = \"#fff\",\n            speed = 1,\n            opacity = 1,\n            angle = Math.PI,\n            position = {\n                x: 0,\n                y: 0,\n                z: 0\n            },\n            rotation = {\n                x: -Math.PI / 2,\n                y: 0,\n                z: 0\n            }\n    } = opts;\n\n    const width = radius * 2;\n\n    const geometry = new THREE.PlaneBufferGeometry(width, width, 1, 1);\n\n    const material = new THREE.ShaderMaterial({\n        uniforms: {\n            u_radius: {\n                value: radius\n            },\n            u_speed: {\n                value: speed\n            },\n            u_opacity: {\n                value: opacity\n            },\n            u_width: {\n                value: angle\n            },\n            u_color: {\n                value: new THREE.Color(color)\n            },\n            time: {\n                value: 0\n            }\n        },\n        transparent: true,\n        depthWrite: false,\n        side: THREE.DoubleSide,\n        vertexShader: Shader.vertexShader,\n        fragmentShader: Shader.fragmentShader\n    })\n\n    const mesh = new THREE.Mesh(geometry, material);\n\n    mesh.rotation.set(rotation.x, rotation.y, rotation.z);\n    mesh.position.copy(position);\n\n    return mesh\n}","import * as THREE from 'three';\n\nconst vertexShader = `\nuniform vec3 u_color;\n\nuniform float time;\nuniform float u_height;\n \nvarying float v_opacity;\n\nvoid main() {\n\n    vec3 vPosition = position * mod(time, 1.0);\n\n    v_opacity = mix(1.0, 0.0, position.y / u_height);\n \n    gl_Position = projectionMatrix * modelViewMatrix * vec4(vPosition, 1.0);\n}\n`;\nconst fragmentShader = ` \nuniform vec3 u_color;\nuniform float u_opacity;\n \nvarying float v_opacity;\n\nvoid main() { \n    gl_FragColor = vec4(u_color, v_opacity * u_opacity);\n}\n`;\n\n\nexport default function (option = {}) {\n    const {\n        radius,\n        height,\n        opacity,\n        color,\n        speed,\n        renderOrder\n    } = option;\n    const geometry = new THREE.CylinderGeometry(radius, radius, height, 32, 1, true);\n    geometry.translate(0, height / 2, 0);\n    const material = new THREE.ShaderMaterial({\n        uniforms: {\n            u_height: {\n                value: height\n            },\n            u_speed: {\n                value: speed || 1\n            },\n            u_opacity: {\n                value: opacity\n            },\n            u_color: {\n                value: new THREE.Color(color)\n            },\n            time: {\n                value: 0\n            }\n        },\n        transparent: true,\n        depthWrite: false,\n        depthTest: false,\n        side: THREE.DoubleSide,\n        vertexShader: vertexShader,\n        fragmentShader: fragmentShader\n    });\n    const mesh = new THREE.Mesh(geometry, material);\n    mesh.renderOrder = renderOrder || 1;\n    return mesh;\n}","import * as THREE from 'three'\nimport Effects from '../utils/effect'\nimport Shader from '../utils/shader'\nimport Utils from '../utils/index'\n// import { MeshPhongMaterial } from 'three/src/materials/MeshPhongMaterial'\nimport {\n    Radar,\n    Wall,\n    // Fly\n} from './effect/index'\n\nconst radarData = [\n//     {\n//     position: {\n//         x: 666,\n//         y: 22,\n//         z: 0\n//     },\n//     radius: 150,\n//     color: '#ff0000',\n//     opacity: 0.5,\n//     speed: 2\n// }, \n{\n    position: {\n        x: 666,\n        y: 25,\n        z: -202\n    },\n    radius: 220,\n    color: '#efad35',\n    opacity: 0.6,\n    speed: 1\n}];\nconst wallData = [{\n    position: {\n        x: -150,\n        y: 15,\n        z: 100\n    },\n    speed: 0.00001,\n    color: '#ff0000',\n    opacity: 0.6,\n    radius: 200,\n    height: 120,\n    renderOrder: 5\n}]\n// const flyData = [{\n//     source: {\n//         x: -150,\n//         y: 15,\n//         z: 100\n//     },\n//     target: {\n//         x: -666,\n//         y: 25,\n//         z: 202\n//     },\n//      range: 120,\n//     height: 100,\n//     color: '#efad35',\n//     speed: 1,\n//     size: 30\n// }, {\n//     source: {\n//         x: -150,\n//         y: 15,\n//         z: 100\n//     },\n//     target: {\n//         x: 666,\n//         y: 22,\n//         z: 0\n//     },\n//     height: 300,\n//     range: 150,\n//     color: '#ff0000',\n//     speed: 1,\n//     size: 40\n// }]\n\nclass City {\n    constructor( scene ) {\n        // this.fbxLoader = new FBXLoader();\n        this.group = new THREE.Group();\n\n        this.effectGroup = new THREE.Group();\n\n        this.group.add(this.effectGroup);\n\n        this.surroundLineMaterial = null;\n        this.time = {\n            value: 0\n        };\n        this.StartTime = {\n            value: 0\n        };\n        this.isStart = false; // 是否启动\n        this.group.add(scene);\n        scene.traverse((child) => {\n            // 城市效果\n            if(child.isMesh){\n                // 建筑\n                this.setCityMaterial(child);\n                // 添加包围线条效\n                this.surroundLine(child);\n            }\n                    // if (cityArray.includes(child.name)) {\n                       \n                    // }\n                    // if (floorArray.includes(child.name)) {\n                    //     this.setFloor(child);\n                    // }\n        })\n\n        // 需要做城市效果的mesh \n        // const cityArray = ['CITY_UNTRIANGULATED'];\n\n        // const floorArray = ['LANDMASS'];\n\n        // this.loadFbx('/model/taiyuan.fbx').then((scene) => {\n        //     this.group.add(scene);\n        //     // 遍历整个场景找到对应的对象\n        //     scene.traverse((child) => {\n        //         // 城市效果\n        //         if(child.isMesh){\n        //             // 建筑\n        //          this.setCityMaterial(child);\n        //          // 添加包围线条效\n        //          this.surroundLine(child);\n        //         }\n        //         // if (cityArray.includes(child.name)) {\n                   \n        //         // }\n        //         // if (floorArray.includes(child.name)) {\n        //         //     this.setFloor(child);\n        //         // }\n        //     })\n        // });\n\n        this.init();\n    }\n\n    /**\n     *  Loader Model\n     */\n    loadFbx(url) {\n        return new Promise((resolve, reject) => {\n            try {\n                this.fbxLoader.load(url, (obj) => {\n                    resolve(obj);\n                });\n            } catch (e) {\n                reject(e);\n            }\n        });\n    }\n\n    init() {\n        setTimeout(() => {\n            this.isStart = true;\n            // 加载扫描效果\n            radarData.forEach((data) => {\n                const mesh = Radar(data);\n                mesh.material.uniforms.time = this.time;\n                this.effectGroup.add(mesh);\n            });\n            // 光墙\n            wallData.forEach((data) => {\n                const mesh = Wall(data);\n                mesh.material.uniforms.time = this.time;\n                this.effectGroup.add(mesh);\n            });\n            // 飞线\n            // flyData.forEach((data) => {\n            //     const mesh = Fly(data);\n            //     mesh.material.uniforms.time = this.time;\n            //     mesh.renderOrder = 10;\n            //     this.effectGroup.add(mesh);\n            // });\n        }, 1000);\n    }\n\n    // 设置地板\n    setFloor(object) {\n        Utils.forMaterial(object.material, (material) => {\n            material.color.setStyle(\"#040912\");\n        })\n    }\n    // Mesh\n    /**\n     *  \n     */\n    setCityMaterial(object) {\n        // 确定oject的geometry的box size\n        object.geometry.computeBoundingBox();\n        object.geometry.computeBoundingSphere();\n\n        // const {\n        //     geometry\n        // } = object;\n\n        // 获取geometry的长宽高 中心点\n        // const {\n        //     center,\n        //     radius\n        // } = geometry.boundingSphere;\n\n        // const {\n        //     max,\n        //     min\n        // } = geometry.boundingBox;\n\n        // const size = new THREE.Vector3(\n        //     max.x - min.x,\n        //     max.y - min.y,\n        //     max.z - min.z\n        // );\n\n        // object.material = new THREE.ShaderMaterial({\n        //     transparent: true,\n        //     // color: '#1B3045',\n        //     uniforms: {\n        //         time: this.time,\n        //         uStartTime: this.StartTime,\n        //         // 中心点\n        //         uCenter: { value: center },\n        //         // 模型大小\n        //         uSize: { value: size },\n        //         uMax: { value: max },\n        //         uMin: { value: min },\n        //         uTopColor: { value: new THREE.Color('#FFFFDC') },\n        //         // 效果开关\n        //         uSwitch: { value: new THREE.Vector3(\n        //             0, // 扩散\n        //             0, // 左右横扫\n        //             0 // 向上扫描\n        //         ) },\n        //         // 扩散\n        //         uDiffusion: {\n        //             value: new THREE.Vector3(\n        //                 1, // 0 1开关\n        //                 120, // 范围\n        //                 600 // 速度\n        //             )\n        //         },\n        //         // 扩散中心点\n        //         uDiffusionCenter: {\n        //             value: new THREE.Vector3(\n        //                 0, 0, 0\n        //             )\n        //         },\n        //         // 扩散中心点\n        //         uFlow : {\n        //             value: new THREE.Vector3(\n        //                 1, // 0 1开关\n        //                 10, // 范围\n        //                 20 // 速度\n        //             )\n        //         },\n        //         // 效果颜色\n        //         uColor: {\n        //             value: new THREE.Color(\"#5588aa\")\n        //         },\n        //         // 效果颜色\n        //         uFlowColor: {\n        //             value: new THREE.Color(\"#5588AA\")\n        //         },\n        //         // 效果透明度\n        //         uOpacity: {\n        //             value: 1\n        //         },\n        //         // 效果透明度\n        //         uRadius: {\n        //             value: radius\n        //         }\n        //     },\n        //     fragmentShader: Shader.fragmentShader,\n        //     vertexShader: Shader.vertexShader\n\n        // })\n\n        object.material = new THREE.ShaderMaterial({\n            vertexShader: `\n              varying vec3 vNormal;\n              varying vec3 vPosition;\n              void main() {\n                //将attributes的normal通过varying赋值给了向量vNormal\n                vNormal = normal;\n                vPosition = position;\n                //projectionMatrix是投影变换矩阵 modelViewMatrix是相机坐标系的变换矩阵\n                gl_Position = projectionMatrix * modelViewMatrix * vec4( position.x, position.y, position.z, 1.0 );\n              }\n            `,\n            fragmentShader: `\n              varying vec3 vNormal;\n              varying vec3 vPosition;\n              void main() {\n                float cy = (fract((vPosition.z - 200.0) / 200.0) + 0.7) * 0.7;\n                if(vNormal.x==0.0&&vNormal.z==1.0&&vNormal.y==0.0){\n                  cy = 1.0;\n                }\n              gl_FragColor = vec4(0.0, cy, cy, 1.0);\n              }\n            `\n          })\n        // new MeshPhongMaterial({ color: '#1B3045'})\n\n    //     Utils.forMaterial(object.material, (material) => {\n    //         // material.opacity = 0.6;\n    //         material.transparent = true;\n    //         material.color.setStyle(\"#1B3045\");\n\n    //         material.onBeforeCompile = (shader) => {\n    //             shader.uniforms.time = this.time;\n    //             shader.uniforms.uStartTime = this.StartTime;\n\n    //             // 中心点\n    //             shader.uniforms.uCenter = {\n    //                 value: center\n    //             }\n\n    //             // geometry大小\n    //             shader.uniforms.uSize = {\n    //                 value: size\n    //             }\n\n    //             shader.uniforms.uMax = {\n    //                 value: max\n    //             }\n\n    //             shader.uniforms.uMin = {\n    //                 value: min\n    //             }\n    //             shader.uniforms.uTopColor = {\n    //                 value: new THREE.Color('#FFFFDC')\n    //             }\n\n    //             // 效果开关\n    //             shader.uniforms.uSwitch = {\n    //                 value: new THREE.Vector3(\n    //                     1, // 扩散\n    //                     0, // 左右横扫\n    //                     0 // 向上扫描\n    //                 )\n    //             };\n    //             // 扩散\n    //             shader.uniforms.uDiffusion = {\n    //                 value: new THREE.Vector3(\n    //                     1, // 0 1开关\n    //                     120, // 范围\n    //                     600 // 速度\n    //                 )\n    //             };\n    //             // 扩散中心点\n    //             shader.uniforms.uDiffusionCenter = {\n    //                 value: new THREE.Vector3(\n    //                     0, 0, 0\n    //                 )\n    //             };\n\n    //             // 扩散中心点\n    //             shader.uniforms.uFlow = {\n    //                 value: new THREE.Vector3(\n    //                     1, // 0 1开关\n    //                     10, // 范围\n    //                     20 // 速度\n    //                 )\n    //             };\n\n    //             // 效果颜色\n    //             shader.uniforms.uColor = {\n    //                 value: new THREE.Color(\"#5588aa\")\n    //             }\n    //             // 效果颜色\n    //             shader.uniforms.uFlowColor = {\n    //                 value: new THREE.Color(\"#5588AA\")\n    //             }\n\n    //             // 效果透明度\n    //             shader.uniforms.uOpacity = {\n    //                 value: 1\n    //             }\n\n    //             // 效果透明度\n    //             shader.uniforms.uRadius = {\n    //                 value: radius\n    //             }\n\n    //             /**\n    //              * 对片元着色器进行修改\n    //              */\n    //             const fragment = `\n    // float distanceTo(vec2 src, vec2 dst) {\n    //     float dx = src.x - dst.x;\n    //     float dy = src.y - dst.y;\n    //     float dv = dx * dx + dy * dy;\n    //     return sqrt(dv);\n    // }\n\n    // float lerp(float x, float y, float t) {\n    //     return (1.0 - t) * x + t * y;\n    // }\n\n    // vec3 getGradientColor(vec3 color1, vec3 color2, float index) {\n    //     float r = lerp(color1.r, color2.r, index);\n    //     float g = lerp(color1.g, color2.g, index);\n    //     float b = lerp(color1.b, color2.b, index);\n    //     return vec3(r, g, b);\n    // }\n\n    // varying vec4 vPositionMatrix;\n    // varying vec3 vPosition;\n\n    // uniform float time;\n    // // 扩散参数\n    // uniform float uRadius;\n    // uniform float uOpacity;\n    // // 初始动画参数\n    // uniform float uStartTime; \n\n    // uniform vec3 uMin;\n    // uniform vec3 uMax;\n    // uniform vec3 uSize;\n    // uniform vec3 uFlow;\n    // uniform vec3 uColor;\n    // uniform vec3 uCenter;\n    // uniform vec3 uSwitch;\n    // uniform vec3 uTopColor;\n    // uniform vec3 uFlowColor;\n    // uniform vec3 uDiffusion; \n    // uniform vec3 uDiffusionCenter;\n\n    // void main() {\n    //     `;\n    //             const fragmentColor = `\n    // vec3 distColor = outgoingLight;\n    // float dstOpacity = diffuseColor.a;\n    \n    // float indexMix = vPosition.z / (uSize.z * 0.6);\n    // distColor = mix(distColor, uTopColor, indexMix);\n    \n    // // 开启扩散波\n    // vec2 position2D = vec2(vPosition.x, vPosition.y);\n    // if (uDiffusion.x > 0.5) {\n    //     // 扩散速度\n    //     float dTime = mod(time * uDiffusion.z, uRadius * 0.5);\n    //     // 当前的离中心点距离\n    //     float uLen = distanceTo(position2D, vec2(uCenter.x, uCenter.z));\n\n    //     // 扩散范围\n    //     if (uLen < dTime && uLen > dTime - uDiffusion.y) {\n    //         // 颜色渐变\n    //         float dIndex = sin((dTime - uLen) / uDiffusion.y * PI);\n    //         distColor = mix(uColor, distColor, 1.0 - dIndex);\n    //     }\n    // }\n\n    // // 流动效果\n    // if (uFlow.x > 0.5) {\n    //     // 扩散速度\n    //     float dTime = mod(time * uFlow.z, uSize.z); \n    //     // 流动范围\n    //     float topY = vPosition.z + uFlow.y;\n    //     if (dTime > vPosition.z && dTime < topY) {\n    //         // 颜色渐变 \n    //         float dIndex = sin((topY - dTime) / uFlow.y * PI);\n\n    //         distColor = mix(distColor, uFlowColor,  dIndex); \n    //     }\n    // }\n  \n\n    // gl_FragColor = vec4(distColor, dstOpacity * uStartTime);\n    //     `;\n    //             shader.fragmentShader = shader.fragmentShader.replace(\"void main() {\", fragment)\n    //             shader.fragmentShader = shader.fragmentShader.replace(\"gl_FragColor = vec4( outgoingLight, diffuseColor.a );\", fragmentColor);\n\n\n\n    //             /**\n    //              * 对顶点着色器进行修改\n    //              */\n    //             const vertex = `\n    // varying vec4 vPositionMatrix;\n    // varying vec3 vPosition;\n    // uniform float uStartTime;\n    // void main() {\n    //         vPositionMatrix = projectionMatrix * vec4(position, 1.0);\n    //         vPosition = position;\n    //         `\n    //             const vertexPosition = `\n    // vec3 transformed = vec3(position.x, position.y, position.z * uStartTime);\n    //         `\n\n    //             shader.vertexShader = shader.vertexShader.replace(\"void main() {\", vertex);\n    //             shader.vertexShader = shader.vertexShader.replace(\"#include <begin_vertex>\", vertexPosition);\n    //         }\n    //     })\n    }\n\n    // Line\n    /**\n     * 获取包围线条效果\n     */\n    surroundLine(object) {\n        // 获取线条geometry\n        const geometry = Effects.surroundLineGeometry(object);\n        // 获取物体的世界坐标 旋转等\n        const worldPosition = new THREE.Vector3();\n        object.getWorldPosition(worldPosition);\n\n        // 传递给shader重要参数\n        const {\n            max,\n            min\n        } = object.geometry.boundingBox;\n\n        const size = new THREE.Vector3(\n            max.x - min.x,\n            max.y - min.y,\n            max.z - min.z\n        );\n\n        // this.effectGroup.add();\n        const material = this.createSurroundLineMaterial({\n            max,\n            min,\n            size\n        });\n\n        const line = new THREE.LineSegments(geometry, material);\n\n        line.name = 'surroundLine';\n\n        line.scale.copy(object.scale);\n        line.rotation.copy(object.rotation);\n        line.position.copy(worldPosition);\n        this.effectGroup.add(line);\n    }\n\n    /**\n     * 创建包围线条材质\n     */\n    createSurroundLineMaterial({\n        max,\n        min,\n        // size\n    }) {\n        if (this.surroundLineMaterial) return this.surroundLineMaterial;\n\n        this.surroundLineMaterial = new THREE.ShaderMaterial({\n            transparent: true,\n            uniforms: {\n                uColor: {\n                    value: new THREE.Color(\"#03a9f4\")\n                },\n                uActive: {\n                    value: new THREE.Color(\"#b3e5fc\")\n                },\n                time: this.time,\n                uOpacity: {\n                    value: 0.6\n                },\n                uMax: {\n                    value: max,\n                },\n                uMin: {\n                    value: min,\n                },\n                uRange: {\n                    value: 200\n                },\n                uSpeed: {\n                    value: 0.2\n                },\n                uStartTime: this.StartTime\n            },\n            vertexShader: Shader.surroundLine.vertexShader,\n            fragmentShader: Shader.surroundLine.fragmentShader\n        });\n\n        return this.surroundLineMaterial;\n    }\n\n    animate = (dt) => {\n        if (dt > 1) return false;\n        this.time.value += dt;\n        // 启动\n        if (this.isStart) {\n            this.StartTime.value += dt * 0.5;\n            if (this.StartTime.value >= 1) {\n                this.StartTime.value = 1;\n                // this.isStart = false;\n            }\n        }\n    }\n}\n\nexport default City;","import * as THREE from 'three';\nimport * as $ from 'jquery';\nimport { TWEEN } from 'three/examples/jsm/libs/tween.module.min.js';\n/**\n * [EffectBase 特效基础，基础方法]\n */\nfunction EffectBase(config) {\n    // 基础配置项\n    const DefaultConfig = {\n        basic: {\n            longLat: { // 经纬度转换\n                vScale: 40000, // 点缩放值-比例尺\n                center: [104.08195, 30.64615] // 中心点\n            },\n            plane: { // 平面转换\n                vScale: 1, // 点缩放值-比例尺\n                center: [0, 0] // 中心点\n            }\n        },\n        dataTans: 'plane', // 数据转换方式 对应 basic.longLat, basic.plane\n        gridHelper: false, // 显示辅助网格\n        texture: {\n            txuePath: '', //路径\n            common: {}, //常规纹理\n            repeat: {}  //重复纹理\n        }\n    };\n\n    this._TWEEN = TWEEN;\n\n    this.Txues = {}; // 纹理\n    this.group = new THREE.Group();\n    this.eventArray = []; // 事件数组\n\n    this.config = $.extend(true, {}, DefaultConfig, config);\n\n    // 网格\n    if (this.config.gridHelper) {\n        this.group.add(new THREE.GridHelper(1500, 50, 0x145A8D, 0x494949));\n    }\n\n    this.loadTexture(this.config.texture);\n}\n\nObject.assign(EffectBase.prototype, {\n\n    constructor: EffectBase,\n\n    // 事件执行接口\n    onMouseIn: function () { },\n    onMouseOut: function () { },\n    onMouseDown: function () { },\n    onDblclick: function () { },\n\n    animate: function () { },\n    // 销毁\n    dispose: function () {\n        this.group = null;\n        this.config = null;\n        Object.keys(this.Txues).forEach((item) => {\n            if (this.Txues[item]) {\n                this.Txues[item].dispose && this.Txues[item].dispose();\n                this.Txues[item] = null;\n            }\n        });\n    },\n\n    // 请求\n    ajaxQuer: function (url, func) {\n        if (!url) return;\n        var _that = this;\n        $.ajax({\n            url: url,\n            type: \"get\",\n            success: function (result) {\n                _that.toFunction(func(result));\n            }\n        });\n    },\n\n    // ---------\n    /**\n     * [mtl 常用材质对象]\n     * @type {Object}\n     */\n    mtl: {\n        point(param) {\n            return new THREE.PointsMaterial(param); // 点材质\n        },\n        sprite(param) {\n            return new THREE.SpriteMaterial(param); // sprite粒子材质\n        },\n\n        line(param) {\n            return new THREE.LineBasicMaterial(param); // 线材质\n        },\n        lineD(param) {\n            return new THREE.LineDashedMaterial(param); // 线段材质\n        },\n\n        shader(param) {\n            return new THREE.ShaderMaterial(param); // shader自定义材质\n        },\n\n        basic(param) {\n            return new THREE.MeshBasicMaterial(param); // 基础几何体材质\n        },\n        phong(param) {\n            return new THREE.MeshPhongMaterial(param); // 高光几何体材质\n        },\n        lambert(param) {\n            return new THREE.MeshLambertMaterial(param); // 兰伯特感光几何体材质\n        },\n        standard(param) {\n            return new THREE.MeshStandardMaterial(param); // 标准几何体材质\n        }\n    },\n    /**\n     * [geo 常用几何体对象]\n     * @type {Object}\n     */\n    geo: {\n        geo() {\n            return new THREE.Geometry(); // 基础几何体\n        },\n        buf() {\n            return new THREE.BufferGeometry(); // 基础buffe几何体\n        },\n        insBuf() {\n            return new THREE.InstancedBufferGeometry(); // 基础buffer实例几何体\n        },\n\n        shape(shp, seg) {\n            return new THREE.ShapeBufferGeometry(shp, seg); // 形状\n        },\n        extrude(shp, opt) {\n            return new THREE.ExtrudeBufferGeometry(shp, opt); // 拉伸几何体\n        },\n\n        plane(w, h, ws, hs) {\n            return new THREE.PlaneBufferGeometry(w, h, ws, hs); // 平面\n        },\n        circle(r, s) {\n            return new THREE.CircleBufferGeometry(r, s); // 圆面\n        },\n        box(w, h, d) {\n            return new THREE.BoxBufferGeometry(w, h, d); // 立方体\n        },\n        sphere(r, ws, hs, pS, pL, tS, tL) {\n            return new THREE.SphereBufferGeometry(r, ws, hs, pS, pL, tS, tL); // 球体\n        },\n        torus(r, t, rs, ts) {\n            return new THREE.TorusBufferGeometry(r, t, rs, ts); // 圆环\n        },\n        Icosah(r, s) {\n            return new THREE.IcosahedronBufferGeometry(r, s); // 二十面体\n        },\n        cylinder(rt, rb, h, rs, o) {\n            return new THREE.CylinderBufferGeometry(rt, rb, h, rs, 1, o); // 圆柱\n        }\n    },\n\n    // 多边形构面\n    tgShape: function (c, h) { return THREE.ShapeUtils.triangulateShape(c, h); },\n\n    color: function (c) { return new THREE.Color(c); },\n\n    // 更改透明度  动画中使用\n    setNodeOpacity: function (node, val) {\n        node.traverse(function (child) {\n            if (child._opacity) {\n                if (!child.material.uniforms) child.material.opacity = child._opacity * val;\n                else child.material.uniforms.u_opacity.value = child._opacity * val;\n            }\n        });\n    },\n\n    isArray: function (o) {\n        return Object.prototype.toString.call(o) == '[object Array]';\n    },\n\n    isFunction: function (a) {\n        return Object.prototype.toString.call(a) === '[object Function]';\n    },\n\n    toFunction: function (a) {\n        var b = Object.prototype.toString.call(a) === '[object Function]';\n        return b ? a : function () { };\n    },\n\n    // 常规颜色转换为 3D颜色数组 [THREE.Color, opacity]\n    getColorArr: function (str) {\n        function pad2(c) {\n            return c.length === 1 ? `0${c}` : `${c}`;\n        }\n        if (this.isArray(str)) return str;\n        const _arr = [];\n        const nStr = (`${str}`).toLowerCase().replace(/\\s/g, '');\n        if (/^((?:rgba)?)\\(\\s*([^)]*)/.test(nStr)) {\n            const arr = nStr.replace(/rgba\\(|\\)/gi, '').split(',');\n            const hex = [\n                pad2(Math.round(arr[0] - 0 || 0).toString(16)),\n                pad2(Math.round(arr[1] - 0 || 0).toString(16)),\n                pad2(Math.round(arr[2] - 0 || 0).toString(16))\n            ];\n            _arr[0] = this.color(`#${hex.join('')}`);\n            _arr[1] = Math.max(0, Math.min(1, (arr[3] - 0 || 0)));\n        } else if (str === 'transparent') {\n            _arr[0] = this.color();\n            _arr[1] = 0;\n        } else {\n            _arr[0] = this.color(str);\n            _arr[1] = 1;\n        }\n        return _arr;\n    },\n\n    // 3D内颜色还原为 rgba\n    getStyle: function (cArr) {\n        var cl3 = cArr[0].multiplyScalar(255);\n        return `rgba(${(cl3.r | 0)}, ${(cl3.g | 0)}, ${(cl3.b | 0)}, ${cArr[1]})`;\n    },\n\n    // 加载图片纹理\n    loadTexture: function (texture) {\n        var tph = texture.txuePath || '',\n            common = texture.common || {},\n            repeat = texture.repeat || {},\n            txueLoader = new THREE.TextureLoader();\n        for (let k in common) {\n            this.Txues[`_${k}`] = common[k] ? txueLoader.load(tph + common[k]) : null;\n        }\n        for (let k in repeat) {\n            if (repeat[k]) {\n                this.Txues[`_${k}`] = txueLoader.load(tph + repeat[k]);\n                this.Txues[`_${k}`].wrapS = THREE.RepeatWrapping;\n                this.Txues[`_${k}`].wrapT = THREE.RepeatWrapping;\n            } else {\n                this.Txues[`_${k}`] = null;\n            }\n        }\n    },\n\n    // --------- 处理attribute逻辑 --------------\n    // attribute 添加颜色\n    pushColor: function (array, ...colors) {\n        var i, ci, clen = colors.length;\n        for (i = 0; i < clen; i++) {\n            ci = colors[i];\n            array.push(ci[0].r, ci[0].g, ci[0].b, ci[1]);\n        }\n    },\n\n    // 处理颜色\n    handleColor: function (colorArr) {\n        var colors = [];\n        for (var i = 0, clen = colorArr.length; i < clen; i++) {\n            if (this.isArray(colorArr[i])) {\n                var arr = [];\n                colorArr[i].forEach((item) => {\n                    arr.push(this.getColorArr(item));\n                })\n                colors.push(arr);\n            } else {\n                colors.push(this.getColorArr(colorArr[i]));\n            }\n        }\n        return colors;\n    },\n\n    // 动画函数\n    nodeFunc: function (dt, node, endFun = null,\n        trans = '_transTimes', limt = '_perTimes', name = 'u_time') {\n        node[trans] += dt;\n        node.material.uniforms[name].value = node[trans] / node[limt];\n        if (node[trans] >= node[limt]) {\n            node[trans] -= node[limt];\n            endFun && endFun();\n        }\n    }\n});\n\nexport default EffectBase;","import * as THREE from 'three';\nimport EffectBase from './EffectBase'; \nclass CreatRisePoint extends EffectBase {\n    constructor(config) {\n        super(config);\n        this.group = new THREE.Group();\n        EffectBase.call(this, config);\n        this.point = \"data:image/png;base64,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0p8zAAA6MGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzggNzkuMTU5ODI0LCAyMDE2LzA5LzE0LTAxOjA5OjAxICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIgogICAgICAgICAgICB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIgogICAgICAgICAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICAgICAgICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAxNyAoV2luZG93cyk8L3htcDpDcmVhdG9yVG9vbD4KICAgICAgICAgPHhtcDpDcmVhdGVEYXRlPjIwMjAtMDktMTdUMTA6NDk6MzArMDg6MDA8L3htcDpDcmVhdGVEYXRlPgogICAgICAgICA8eG1wOk1ldGFkYXRhRGF0ZT4yMDIwLTA5LTE3VDEwOjQ5OjMwKzA4OjAwPC94bXA6TWV0YWRhdGFEYXRlPgogICAgICAgICA8eG1wOk1vZGlmeURhdGU+MjAyMC0wOS0xN1QxMDo0OTozMCswODowMDwveG1wOk1vZGlmeURhdGU+CiAgICAgICAgIDx4bXBNTTpJbnN0YW5jZUlEPnhtcC5paWQ6YWQzNWNkMjktODA5ZC00YzRmLTk1NTItY2RlZTcxZTZhMjdjPC94bXBNTTpJbnN0YW5jZUlEPgogICAgICAgICA8eG1wTU06RG9jdW1lbnRJRD5hZG9iZTpkb2NpZDpwaG90b3Nob3A6NjIzYTVjMmUtZjg5MC0xMWVhLWFlNTEtZmY3NjdjYjNmOTdiPC94bXBNTTpEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06T3JpZ2luYWxEb2N1bWVudElEPnhtcC5kaWQ6Y2QwOGRjOGUtOTIyNS05NTQwLTllMWEtNWEyZjhmMTMzZTFhPC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+Y3JlYXRlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOmNkMDhkYzhlLTkyMjUtOTU0MC05ZTFhLTVhMmY4ZjEzM2UxYTwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAyMC0wOS0xN1QxMDo0OTozMCswODowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDphZDM1Y2QyOS04MDlkLTRjNGYtOTU1Mi1jZGVlNzFlNmEyN2M8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMjAtMDktMTdUMTA6NDk6MzArMDg6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE3IChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3BuZzwvZGM6Zm9ybWF0PgogICAgICAgICA8cGhvdG9zaG9wOkNvbG9yTW9kZT4zPC9waG90b3Nob3A6Q29sb3JNb2RlPgogICAgICAgICA8cGhvdG9zaG9wOklDQ1Byb2ZpbGU+c1JHQiBJRUM2MTk2Ni0yLjE8L3Bob3Rvc2hvcDpJQ0NQcm9maWxlPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8dGlmZjpYUmVzb2x1dGlvbj43MjAwMDAvMTAwMDA8L3RpZmY6WFJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOllSZXNvbHV0aW9uPjcyMDAwMC8xMDAwMDwvdGlmZjpZUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6UmVzb2x1dGlvblVuaXQ+MjwvdGlmZjpSZXNvbHV0aW9uVW5pdD4KICAgICAgICAgPGV4aWY6Q29sb3JTcGFjZT4xPC9leGlmOkNvbG9yU3BhY2U+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj4zMjwvZXhpZjpQaXhlbFhEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOlBpeGVsWURpbWVuc2lvbj4zMjwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSJ3Ij8+YmP6eAAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VGAAABp0lEQVR42sTXMW8TQRCG4ccngUCAoAAJSpSjASkgKqBDaVCg48+kpCQV9NDDD4AyogO6EBdQxBEliUwBiePIphiaPelshcQO9u0rXXOjnW92tNrZrxURJuQ8HuMh7uA6LqbYb3zHF3zAe/QmyhoRx31lRLyKiF5MTi+tKY/Lf1TwTEQ8j4hBnJxBRKymXFMVsBAR6zE71v/VjcPE70bEdsye7ZR7RK81dghLfMQV86GLB+hUP+oFnMUn3DZf2riHAyhqgWcNiMNi0hrpwAK+4ZRm+IOb6FQdWGlQXNJaqTpwAT9wTrPs41qB5QzikuZygSX5WCrSqczFYisiuricqYCfrYgY4HSmAoaFzBTYzai/W2ArYwFbRRoOuWgXWMtYwFrOq7iPqwX28DbD7t9grxrHJb42PI5vYbO6Bzp40eDuX2LzsCfZ5wZmQxv30xkYeZId4Gl6OM6LbtLo12/COh08ws4cxHdS7s4k1qyMiI0ZeoKNaYxJ3ZqtRsTwP4SHJ7Vm9e9GMpr7Uwj3I+J1Wntk/taU9vzJmD2/lGK/xuz5u0nt+d8BAN+RdVV21vIhAAAAAElFTkSuQmCC\"\n        this.time = { value: 0 }\n        \n    }\n    add(data) {\n        const point = this.createEffect(data);\n        this.group.add(point);\n        point.nowId = data.nowId;\n        point.position.copy(data.position);\n    }\n    remove(nowId) {\n        const obj = this.group.getObjectByProperty(\"nowId\", nowId);\n\n        if (obj) {\n            obj.material.dispose();\n            obj.geometry.dispose();\n            this.group.remove(obj);\n        }\n    }\n    setOption() {\n\n    }\n    createEffect(opts) {\n        const {\n            minRadius = 4000,\n            maxRadius = 15000,\n            color = \"#ffffff\",\n            size = 20,\n            height = 1000,\n            number = 100,\n            sge = 3\n        } = opts;\n\n        const _Shader = {\n            vertexShader: `\n            uniform float time;\n            uniform float u_size;\n            uniform float u_sge;\n            uniform float u_height;\n            \n            attribute float a_index; \n            attribute float a_speed; \n            attribute float a_random; \n\n            varying float v_opacity;\n  \n            void main() { \n                float PI = 3.1415;\n                v_opacity = a_index / u_sge;\n\n                float v_size = a_index / u_sge * u_size;\n\n                float u_time = time * a_speed;\n\n                if (time < 5.0) {\n                    v_opacity = time / 5.0;\n                }\n\n                float y = u_height * mod(u_time + a_random, 1.0) + a_index * u_size;\n\n                vec3 _position = vec3(position.x, y, position.z);\n                 \n                vec4 mvPosition = modelViewMatrix * vec4(_position, 1.0);\n\t\t\t\tgl_Position = projectionMatrix * mvPosition;\n                gl_PointSize = v_size * 300.0 / (-mvPosition.z);\n            \n            }\n        `,\n            fragmentShader: `\n            uniform sampler2D u_map;\n            uniform vec3 u_color;\n            \n            varying float v_opacity;\n            \n            void main() { \n                vec4 v_color = vec4(u_color, v_opacity);\n                 vec4 ture = texture2D(u_map, vec2(gl_PointCoord.x, 1.0 - gl_PointCoord.y));\n                gl_FragColor = v_color * ture;\n            } `\n        };\n\n        const positions = [];\n        const indexs = [];\n        const speeds = [];\n        const randoms = [];\n        for (let i = 0; i < number; i++) {\n            const radius = THREE.Math.randFloat(minRadius, maxRadius);\n            const x = THREE.Math.randFloat(-1, 1);\n            const y = THREE.Math.randFloat(-1, 1);\n            const pvec2 = new THREE.Vector2(x, y);\n\n            const speed = THREE.Math.randFloat(0.1, 0.2);\n            const random = THREE.Math.randFloat(0.1, 1);\n            pvec2.setLength(radius);\n\n            for (let j = 0; j < sge; j++) {\n                positions.push(pvec2.x, 0, pvec2.y);\n                speeds.push(speed);\n                indexs.push(j + 1);\n                randoms.push(random);\n            }\n        }\n\n        const geometry = new THREE.BufferGeometry();\n\n        geometry.setAttribute(\"position\", new THREE.Float32BufferAttribute(positions, 3));\n        geometry.setAttribute(\"a_index\", new THREE.Float32BufferAttribute(indexs, 1));\n        geometry.setAttribute(\"a_speed\", new THREE.Float32BufferAttribute(speeds, 1));\n        geometry.setAttribute(\"a_random\", new THREE.Float32BufferAttribute(randoms, 1));\n        var txueLoader = new THREE.TextureLoader();\n        var pointImg = txueLoader.load(this.point);\n        const material = new THREE.ShaderMaterial({\n            uniforms: {\n                time: this.time,\n                u_color: { value: new THREE.Color(color) },\n                u_opacity: { value: 1 },\n                u_size: { value: size },\n                u_height: { value: height },\n                u_sge: { value: sge },\n                u_map: { value: pointImg }\n            },\n            transparent: true,\n            depthTest: false,\n            blending: 2,\n            vertexShader: _Shader.vertexShader,\n            fragmentShader: _Shader.fragmentShader\n        });\n        const point = new THREE.Points(geometry, material);\n        \n       \n        return point;\n    }\n    \n    animate = (dt) => {\n        this.time.value += dt;\n    }\n}\nexport default CreatRisePoint;","<template>\r\n  <div id=\"app\">\r\n    <div id=\"three\" class=\"three\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport * as THREE from \"three\";\r\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls\";\r\nimport { mergeBufferGeometries } from \"three/examples/jsm/utils/BufferGeometryUtils\";\r\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader'\r\nimport CityClass from \"./city\";\r\nimport building from \"../assets/building.json\";\r\nimport road from \"../assets/road.json\";\r\nimport rivers from \"../assets/rivers.json\"\r\n// import { EffectComposer } from 'three/examples/jsm/postprocessing/EffectComposer'\r\n// import { RenderPass } from 'three/examples/jsm/postprocessing/RenderPass'\r\n// import { UnrealBloomPass } from 'three/examples/jsm/postprocessing/UnrealBloomPass'\r\nimport { Water } from 'three/examples/jsm/objects/Water2'\r\nimport { MeshLine, MeshLineMaterial } from 'meshline';\r\nimport CreatRisePoint from './effect/CreatePoint'\r\n// import { TWEEN } from 'three/examples/jsm/libs/tween.module.min.js';\r\n// import  createPyramid from './mesh/Pyramid'\r\nconst TWEEN = require('@tweenjs/tween.js')\r\n// import  * as SceneUtils from 'three/examples/jsm/utils/SceneUtils'\r\nexport default {\r\n  name: \"App\",\r\n  mounted() {\r\n    this.init();\r\n    this.animate();\r\n  },\r\n  data() {\r\n    return {\r\n      group: [],\r\n      group2: [],\r\n      // 地图缩放等级\r\n      shapeScaleSize: 1,\r\n      faceColor: \"#F8F8FF\",\r\n      sideColor: \"#D3D3D3\",\r\n      shapeGeometryObj: {},\r\n      cityCenter: {x:112.5454,y:37.851}\r\n    };\r\n  },\r\n  methods: {\r\n    async init() {\r\n      this.isDown = false;\r\n      this.clock = new THREE.Clock(); // 用于更新轨道控制器\r\n      let container = document.getElementById(\"three\");\r\n\r\n      const fov = 75;\r\n      const aspect = container.clientWidth / container.clientHeight;\r\n      const near = 1;\r\n      const far = 10000;\r\n      this.camera = new THREE.PerspectiveCamera(fov, aspect, near, far);\r\n      this.camera.position.set(1000, 1000, 1000);\r\n\r\n      this.scene = new THREE.Scene();\r\n      this.scene.background = new THREE.TextureLoader().load('/smart-taiyuan/static/bg.jpg')\r\n      this.renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });\r\n      this.renderer.setSize(container.clientWidth, container.clientHeight);\r\n      this.controls = new OrbitControls(this.camera, this.renderer.domElement);\r\n      this.controls.minDistance = 200;\r\n      this.controls.maxDistance = 5000;\r\n      this.controls.enablePan = true;\r\n      this.controls.enableDamping = true;\r\n      this.controls.dampingFactor = 0.05;\r\n      this.controls.autoRotate = true\r\n      const material = new THREE.MeshBasicMaterial({ color: \"#2194ce\" });\r\n      const geometrys = [];\r\n      // 遍历建筑的GeoJson文件\r\n      building.features.forEach((item) => {\r\n        if (item.geometry && item?.geometry.type === \"Polygon\") {\r\n          // 拉高的参数\r\n          const extrudeSettings = {\r\n            depth: item.properties.Floor * 5,\r\n            bevelEnabled: false,\r\n          };\r\n          const shape = new THREE.Shape();\r\n          // 获取并计算xy坐标\r\n          let [ x, y ] = this.calculationCoordinate(item.geometry.coordinates[0][0])\r\n          // 移动到初始坐标\r\n          shape.moveTo( x , y);\r\n          item.geometry.coordinates[0].forEach((point) => {\r\n            [ x, y ] = this.calculationCoordinate(point)\r\n            // 连接后续坐标\r\n            shape.lineTo(x , y);\r\n          });\r\n          // 将平面图形拉伸为3D图形\r\n          const geometry = new THREE.ExtrudeGeometry(shape, extrudeSettings);\r\n          //添加数据组\r\n          geometrys.push(geometry);\r\n        }\r\n      });\r\n      // 将所有建筑合并为一个Geometries\r\n      const geometry = mergeBufferGeometries(geometrys);\r\n      const mesh = new THREE.Mesh(geometry, material);\r\n      mesh.rotation.x = -Math.PI / 2;\r\n      const object = new THREE.Group();\r\n      object.add(mesh);\r\n      // 添加扫光动画和线条\r\n      this.city = new CityClass(object);\r\n      this.scene.add(this.city.group);\r\n\r\n      // const green = new THREE.LineBasicMaterial({color: '##0CF6C4', linewidth: 10,})\r\n      // const red = new THREE.LineBasicMaterial({ color: '#9F6718', linewidth: 10 })\r\n      const texture = new THREE.TextureLoader().load('/smart-taiyuan/static/point.png')\r\n      // const texture2 = new THREE.TextureLoader().load('/static/guiji.png')\r\n      texture.wrapS = texture.wrapT = THREE.RepeatWrapping\r\n      const green = new MeshLineMaterial({ useMap: 1,  map: texture, linewidth: 10})\r\n      const red = new MeshLineMaterial({ color: '#9F6718', linewidth: 10 })\r\n      const lines = new THREE.Object3D()\r\n      // 遍历街道\r\n      road.features.forEach(item => {\r\n        const { name } = item.properties\r\n        const points = []\r\n        item.geometry.coordinates.forEach(point=>{\r\n          const [ x, y ] = this.calculationCoordinate(point)\r\n          points.push(new THREE.Vector3(x,y,0))\r\n        })\r\n        \r\n        let curve = new THREE.CatmullRomCurve3(points)\r\n        const pointsList = curve.getPoints( 50 );\r\n        const geometry = new MeshLine()\r\n        geometry.setPoints(pointsList)\r\n        const line = new THREE.Mesh(geometry, (name?green:red))\r\n        lines.add(line)\r\n      })\r\n      lines.position.y = -5\r\n      lines.rotation.x = -Math.PI / 2;\r\n      this.scene.add(lines)\r\n\r\n      const riversGeometry = []\r\n      rivers.features.forEach(item=>{\r\n         if (item.geometry && item?.geometry.type === \"Polygon\" && ( item.properties.natural === 'water' || item.properties.leisure === 'park' )) {\r\n           const shape = new THREE.Shape();\r\n            // 获取并计算xy坐标\r\n            let [ x, y ] = this.calculationCoordinate(item.geometry.coordinates[0][0])\r\n            // 移动到初始坐标\r\n            shape.moveTo( x , y);\r\n            item.geometry.coordinates[0].forEach((point) => {\r\n              [ x, y ] = this.calculationCoordinate(point)\r\n              // 连接后续坐标\r\n              shape.lineTo(x , y);\r\n            });\r\n            // 将平面图形拉伸为3D图形\r\n            const geometry = new THREE.ShapeGeometry(shape);\r\n            riversGeometry.push(geometry)\r\n         }\r\n      })\r\n      const water = new Water(mergeBufferGeometries(riversGeometry), {\r\n        color:'#0527AF',\r\n        scale:10,\r\n        flowDirection:new THREE.Vector2(1,1),\r\n        textureWidth:1024,\r\n        textureHeight:1024,\r\n      })\r\n      water.rotation.x = -Math.PI / 2;\r\n      this.scene.add(water)\r\n      // this.mark = createPyramid()\r\n      // this.mark.position.set(666,250,-202)\r\n      // this.scene.add(this.mark)\r\n\r\n      //添加无人机\r\n      new GLTFLoader().load('/smart-taiyuan/static/model/无人机/UAV.gltf', gltf => {\r\n        const { scene } = gltf\r\n        scene.position.set( 666,250,-202)\r\n        this.mixer = new THREE.AnimationMixer(scene);\r\n        this.mixer.clipAction(gltf.animations[0]).play();\r\n        this.scene.add(scene)\r\n      })\r\n      this.isDown = true;\r\n\r\n    //   const renderPass = new RenderPass(this.scene, this.camera);\r\n    //   this.composer = new EffectComposer(this.renderer);\r\n    //   /**\r\n    //    * UnrealBloomPass的参数\r\n    //    * 1:辉光所覆盖的场景大小\r\n    //    * 2：辉光的强度\r\n    //    * 3：辉光散发的半径\r\n    //    * 4：辉光的阈值（场景中的光强大于该值就会产生辉光效果）\r\n    //    */\r\n    //   const unrealBloomPass = new UnrealBloomPass(new THREE.Vector2(container.clientWidth, container.clientHeight), 0.2, 0.1, 0.5);\r\n    //   unrealBloomPass.renderToScreen = true;\r\n    //   this.composer.addPass(renderPass);\r\n    //   this.composer.addPass(unrealBloomPass);\r\n    //   this.renderer.autoClear = false;\r\n\r\n    // 添加粒子效果\r\n    this.points = new CreatRisePoint()\r\n    this.points.add({position: new THREE.Vector3(0,100,0),minRadius: 80,maxRadius: 1000,height: 500, size: 10,color: '#0527AF',number: 1000 })\r\n    this.scene.add(this.points.group)\r\n    this.addCircleAlarm()\r\n    // this.renderer.addEffect(points)\r\n\r\n      const light = new THREE.AmbientLight(0xadadad); // soft white light\r\n      this.scene.add(light);\r\n\r\n      const directionalLight = new THREE.DirectionalLight(0xffffff, 0.5);\r\n      directionalLight.position.set(100, 100, 0);\r\n      this.scene.add(directionalLight);\r\n\r\n      this.renderer.gammaInput = true;\r\n      this.renderer.gammaOutput = true;\r\n      container.appendChild(this.renderer.domElement);\r\n    },\r\n    animate() {\r\n      if (this.isDown) {\r\n        this.cObject.rotateZ(0.1)\r\n        // this.mark.rotateY(0.1)\r\n        requestAnimationFrame(this.animate);\r\n        TWEEN.update()\r\n        const delta = this.clock.getDelta();\r\n        if (this.city) {\r\n          this.city.animate(delta);\r\n        }\r\n        if(this.points){\r\n          this.points.animate(delta)\r\n        }\r\n        if (this.mixer) {\r\n          this.mixer.update(delta)\r\n          }\r\n        this.controls.update();\r\n        // this.composer.render(delta)\r\n        // this.texture.offset.x -=0.01\r\n        this.createCone(new THREE.Vector3(0,0,0),1)\r\n        this.renderer.render(this.scene, this.camera);\r\n      }\r\n    },\r\n    calculationCoordinate([x,y]){\r\n      return [( x - this.cityCenter.x) * 12000 * this.shapeScaleSize, -(y - this.cityCenter.y) * 12000 * this.shapeScaleSize ]\r\n    },\r\n    addCircleAlarm(){\r\n      this.cObject = new THREE.Object3D()\r\n      const arcShapeDrn01 = new THREE.Shape();\r\n      arcShapeDrn01.moveTo( 310, 0 );\r\n\t\t\tarcShapeDrn01.lineTo( 320, 0 );\r\n\t\t\tarcShapeDrn01.absarc( 0, 0, 320, 0, Math.PI * 2/4/6*5, false );\r\n\t\t\tarcShapeDrn01.absarc( 0, 0, 310,Math.PI * 2/4/6*5,0, true );\r\n      // let geometry = new THREE.ShapeGeometry( arcShapeDrn01 );\r\n\t\t\tconst extrudeSettings = { depth: 300, bevelEnabled: false, bevelSegments: 9, steps: 2, bevelSize: 0, bevelThickness: 0,extrudeMaterial : 1 };\r\n      const geometry = new THREE.ExtrudeGeometry( arcShapeDrn01, extrudeSettings );\r\n\r\n      const txtu = new THREE.TextureLoader().load('/smart-taiyuan/static/wf.png')\r\n      txtu.wrapS = txtu.wrapT = THREE.ClampToEdgeWrapping; // CHANGED\r\n      txtu.offset.set( 0, 0.5 ); // CHANGED\r\n      txtu.repeat.set( 0.01, 0.01 ); // CHANGED\r\n      const material =new THREE.MeshBasicMaterial( { map: txtu, transparent: true,  opacity: 0.8 } )\r\n      // const m1 = new THREE.MeshBasicMaterial()\r\n      // const fs = new new THREE.MeshFaceMaterial([m1,material]);\r\n      // const ms = new THREE.Mesh(geometry, material);\r\n      // this.scene.add(ms)\r\n      const mesh = new THREE.Mesh( geometry,material );\r\n      for(let i = 1; i < 5; i++ ){\r\n        const nMesh = mesh.clone()\r\n        nMesh.rotateZ(Math.PI*2/4*i)\r\n        this.cObject.add(nMesh)\r\n      }\r\n      this.cObject.position.y = 300\r\n      this.cObject.rotateX(Math.PI / 2)\r\n      this.cObject.scale.set(0.2,0.2,0.2)\r\n      this.scene.add(this.cObject)\r\n    },\r\n    createCone(position, index) {\r\n    const coneImg = ['/smart-taiyuan/static/lightray_yellow.jpg','/smart-taiyuan/static/lightray.jpg']\r\n    const HEXAGON_RADIUS = 5\r\n    let texture = new THREE.TextureLoader().load(coneImg[index]),\r\n        material = new THREE.MeshBasicMaterial({\r\n            map: texture,\r\n            transparent: true,\r\n            depthTest: false,\r\n            side: THREE.DoubleSide,\r\n            blending: THREE.AdditiveBlending\r\n        }),\r\n        // height = Math.random() * 50,\r\n        height= 200,\r\n        geometry = new THREE.PlaneGeometry(HEXAGON_RADIUS * 2, height),\r\n        matrix1 = new THREE.Matrix4,\r\n        plane1 = new THREE.Mesh(geometry, material)\r\n    matrix1.makeRotationX(Math.PI / 2)\r\n    matrix1.setPosition(new THREE.Vector3(0, 0, height / -2))\r\n    geometry.applyMatrix(matrix1)\r\n    let plane2 = plane1.clone()\r\n    plane2.rotation.z = Math.PI / 2\r\n    plane1.add(plane2)\r\n    plane1.position.copy(position)\r\n    \r\n    plane1.rotation.x = Math.PI / 2\r\n    // plane1.lookAt(0, 0, 0)\r\n    this.scene.add(plane1)\r\n}\r\n    // addTrafficAlarm(object){\r\n    //     const { position, name, url } = object\r\n    //     const [ x, y ] = this.calculationCoordinate(position)\r\n        \r\n    // }\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n#app {\r\n  font-family: Avenir, Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  text-align: center;\r\n  color: #2c3e50;\r\n  margin-top: 60px;\r\n}\r\n\r\n.three {\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CityMap.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CityMap.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CityMap.vue?vue&type=template&id=95dd8302&\"\nimport script from \"./CityMap.vue?vue&type=script&lang=js&\"\nexport * from \"./CityMap.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CityMap.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('img',{attrs:{\"src\":'/smart-taiyuan/static/top.png'}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <img :src=\"'/smart-taiyuan/static/top.png'\">\r\n        <!-- <img src=\"/static/middle.png\" class=\"left-m\">\r\n        <img src=\"/static/middle.png\" class=\"right-m\">\r\n        <img src=\"/static/bottom.png\" class=\"left-b\">\r\n        <img src=\"/static/bottom.png\" class=\"left-b\" style=\"top: 650px\">\r\n        <img src=\"/static/r-bottom.png\" class=\"right-b\"> -->\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    \r\n}\r\n</script>\r\n<style scoped>\r\n.left-m{\r\n    position:absolute;\r\n    top: 70px;\r\n    left: 10px;\r\n    width: 400px;\r\n}\r\n.right-m{\r\n    position:absolute;\r\n    top: 70px;\r\n    right: 10px;\r\n    width: 400px;\r\n}\r\n.left-b{\r\n    position:absolute;\r\n    top: 400px;\r\n    left: 10px;\r\n    width: 400px;\r\n}\r\n\r\n.right-b{\r\n    position:absolute;\r\n    top: 380px;\r\n    right: 10px;\r\n    width: 400px;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./staticLayout.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./staticLayout.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./staticLayout.vue?vue&type=template&id=d0e28d9e&scoped=true&\"\nimport script from \"./staticLayout.vue?vue&type=script&lang=js&\"\nexport * from \"./staticLayout.vue?vue&type=script&lang=js&\"\nimport style0 from \"./staticLayout.vue?vue&type=style&index=0&id=d0e28d9e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d0e28d9e\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\">\n    <city-map></city-map>\n    <static-layout class=\"layout\"></static-layout>\n  </div>\n</template>\n\n<script>\nimport CityMap from './components/CityMap.vue';\nimport StaticLayout from './components/staticLayout.vue';\n\nexport default {\n  components: { CityMap, StaticLayout },\n  name: \"App\",\n};\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  background-image: url('/smart-taiyuan/static/bg.jpg');\n}\n.layout{\n  position:absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=f5e5c21c&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\n\nVue.config.productionTip = false\n\nnew Vue({\n  render: h => h(App),\n}).$mount('#app')\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./staticLayout.vue?vue&type=style&index=0&id=d0e28d9e&scoped=true&lang=css&\""],"sourceRoot":""}